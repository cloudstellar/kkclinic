# Change Request - Sprint 3
# ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å KKClinic

**‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà:** CR-2026-003  
**Version:** 5.0 (Sprint 3A+ Final ‚Äî DoD Defined)  
**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 21 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2569  
**‡∏ú‡∏π‡πâ‡∏Ç‡∏≠:** Owner  
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‚úÖ **Approved ‚Äî Sprint 3A+ Ready for Implementation**

---

## üéØ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå

‡∏õ‡∏£‡∏±‡∏ö workflow ‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏µ workload ‡∏™‡∏π‡∏á ‡πÇ‡∏î‡∏¢:
- ‡∏•‡∏î‡∏†‡∏≤‡∏£‡∏∞‡∏á‡∏≤‡∏ô staff ‡∏´‡∏ô‡πâ‡∏≤‡∏ü‡∏£‡πâ‡∏≠‡∏ô‡∏ó‡πå
- ‡∏•‡∏î‡∏á‡∏≤‡∏ô manual ‡∏Ç‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏¥‡∏Å‡∏á‡∏≤‡∏ô
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤ "‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏´‡∏•‡∏≠‡∏Å"
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡πÑ‡∏Ç‡πâ‡∏ï‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥

---

## üìã ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏á‡∏≤‡∏ô (Option B)

| Sprint | ‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï | ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÄ‡∏ß‡∏•‡∏≤ | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå |
|--------|--------|------------|---------|
| **3A+** | Label Translations + expiry_note + Summary Sheet + Form Fixes | ~4 ‡∏ä‡∏°. | ‡∏â‡∏•‡∏≤‡∏Å‡∏¢‡∏≤ 2 ‡∏†‡∏≤‡∏©‡∏≤ + ‡πÉ‡∏ö‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤ |
| **3B** | UX Phase 2 + Reserved Stock + Auto Calc + EOD + Payment | 25-35 ‡∏ä‡∏°. | **‡∏•‡∏î‡∏†‡∏≤‡∏£‡∏∞ Owner ‡∏à‡∏£‡∏¥‡∏á‡πÜ** |

---

# üÖ∞Ô∏è Sprint 3A ‚Äî Quick Wins

> **‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:** ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÅ‡∏•‡∏∞‡∏â‡∏•‡∏≤‡∏Å‡∏¢‡∏≤ ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö workflow ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

## 1Ô∏è‚É£ ‡∏£‡∏∞‡∏ö‡∏ö TN (‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏≠‡∏á)

| ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|--------|------------|
| **Format** | `TN` + ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 6 ‡∏´‡∏•‡∏±‡∏Å (‡πÄ‡∏ä‡πà‡∏ô `TN250429`) |
| **Input** | ‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏≠‡∏á (‡πÑ‡∏°‡πà auto-generate) |
| **Validation** | Unique + format check |
| **UX** | ‡∏û‡∏¥‡∏°‡∏û‡πå `250429` ‚Üí ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô `TN250429` |

---

## 2Ô∏è‚É£ Patient Registry (‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)

### Database Changes
```sql
ALTER TABLE patients 
ADD COLUMN name_en TEXT,
ADD COLUMN address_en TEXT,
ADD COLUMN nationality TEXT DEFAULT 'thai',
ADD COLUMN postal_code TEXT,
ADD COLUMN emergency_contact_name TEXT,
ADD COLUMN emergency_contact_relationship TEXT,
ADD COLUMN emergency_contact_phone TEXT;
```

### Fields ‡πÉ‡∏´‡∏°‡πà

| Field | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ | Required |
|-------|----------|----------|
| `nationality` | ‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏¥ (thai/other) | ‚úÖ default: thai |
| `postal_code` | ‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå | ‚ùå |
| `name_en` | ‡∏ä‡∏∑‡πà‡∏≠ EN | ‡∏ñ‡πâ‡∏≤ other |
| `address_en` | ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà EN | ‡∏ñ‡πâ‡∏≤ other |
| `emergency_contact_name` | ‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô | ‚ùå |
| `emergency_contact_relationship` | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå | ‚ùå |
| `emergency_contact_phone` | ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ | ‚ùå |

### Display Rule
- `thai` ‚Üí ‡πÉ‡∏ä‡πâ `name` (‡πÑ‡∏ó‡∏¢)
- `other` ‚Üí ‡πÉ‡∏ä‡πâ `name_en` (EN)
- ‚ùå ‡πÑ‡∏°‡πà fallback ‡∏Ç‡πâ‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤

---

## 3Ô∏è‚É£ Prescription (DF + ‡∏†‡∏≤‡∏©‡∏≤‡∏´‡∏°‡∏≠)

### Database Changes
```sql
ALTER TABLE prescription_items 
ADD COLUMN df DECIMAL(10,2) DEFAULT 0,
ADD COLUMN df_note TEXT,
ADD COLUMN instruction_language TEXT DEFAULT 'thai',
ADD COLUMN dosage_raw TEXT;
```

### ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°
- `dosage_raw` = ‡∏†‡∏≤‡∏©‡∏≤‡∏´‡∏°‡∏≠ (‡πÄ‡∏ä‡πà‡∏ô `1 gtt OU qid`)
- ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏õ‡∏•‡∏ï‡∏≤‡∏° `instruction_language`
- default ‡∏à‡∏≤‡∏Å `patients.nationality` ‡πÅ‡∏ï‡πà override ‡πÑ‡∏î‡πâ

> üìù **Note:** Sprint 3A ‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `dosage_raw` ‡πÅ‡∏•‡∏∞ `instruction_language` ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô workflow ‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡∏¢‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏ï‡πä‡∏≠‡∏Å (Workflow ‡πÉ‡∏´‡∏°‡πà‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Sprint 3B)

---

## 4Ô∏è‚É£ Thermal Label (10√ó7.5 ‡∏ã‡∏°.)

| ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|--------|------------|
| **‡∏Ç‡∏ô‡∏≤‡∏î** | 10√ó7.5 cm (‡πÄ‡∏î‡∏¥‡∏° A6) |
| **Layout** | 1 ‡∏¢‡∏≤ = 1 ‡πÅ‡∏ú‡πà‡∏ô |
| **‡∏†‡∏≤‡∏©‡∏≤** | ‡∏ï‡∏≤‡∏° `instruction_language` |

---

## 4.5Ô∏è‚É£ Medicine Summary Sheet (‡πÉ‡∏ö‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤) ‚Äî NEW

> **‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:** Internal Use ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå/staff ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢

| ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|--------|------------|
| **‡∏Ç‡∏ô‡∏≤‡∏î** | 10√ó7.5 cm (thermal ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô label) |
| **Layout** | Compact ‚Äî ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö ~10-11 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ |
| **UX** | Checkbox "‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡∏™‡∏£‡∏∏‡∏õ‡∏Ø" default ON ‡πÉ‡∏ô label print UI |
| **‡∏û‡∏¥‡∏°‡∏û‡πå** | ‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏â‡∏•‡∏≤‡∏Å‡∏¢‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡πÅ‡∏ú‡πà‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢) |

### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á
- TN, ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤: ‡∏ä‡∏∑‡πà‡∏≠‡∏¢‡∏≤, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô+‡∏´‡∏ô‡πà‡∏ß‡∏¢, ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏©‡∏≤‡∏´‡∏°‡∏≠ (`dosage_raw`)
- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏ß‡∏°

### Layout (Compact)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ TN250429  ‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ       21/01/69        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1. Vigamox 5ml √ó1 ‡∏Ç‡∏ß‡∏î                         ‚îÇ
‚îÇ    ‚Üí 1 gtt OU qid pc                          ‚îÇ
‚îÇ 2. Pred Forte 5ml √ó2 ‡∏Ç‡∏ß‡∏î                      ‚îÇ
‚îÇ    ‚Üí 2 gtt OS bid ac                          ‚îÇ
‚îÇ 3. Paracetamol 500mg √ó100 ‡πÄ‡∏°‡πá‡∏î                ‚îÇ
‚îÇ    ‚Üí 2 tab tid pc                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‡∏£‡∏ß‡∏° 3 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£                   ‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ï‡∏≤‡πÉ‡∏™‡πÉ‡∏™  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 5Ô∏è‚É£ Medicine (Expiry Note)

> **‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á:** ‡∏ï‡∏±‡∏î `name_en`/`description_en` ‡∏≠‡∏≠‡∏Å ‚Äî ‡∏¢‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏õ‡πá‡∏ô Brand name (‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß)  
> **‡πÄ‡∏û‡∏¥‡πà‡∏°:** `expiry_note` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏ö‡∏ô‡∏â‡∏•‡∏≤‡∏Å (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö 2 ‡∏†‡∏≤‡∏©‡∏≤)

```sql
ALTER TABLE medicines 
ADD COLUMN expiry_note_th TEXT DEFAULT '‡∏î‡∏π‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏ó‡∏µ‡πà‡∏â‡∏•‡∏≤‡∏Å‡∏Ç‡πâ‡∏≤‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á',
ADD COLUMN expiry_note_en TEXT DEFAULT 'See expiry date on the box';
```

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

| ‡∏¢‡∏≤ | expiry_note_th | expiry_note_en |
|----|----------------|----------------|
| Vigamox | ‡∏î‡∏π‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏ó‡∏µ‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏ß‡∏î | See expiry on the bottle |
| Pred Forte | ‡∏î‡∏π‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏ó‡∏µ‡πà‡∏Å‡πâ‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á | See expiry on bottom of box |
| Paracetamol | ‡∏î‡∏π‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏ó‡∏µ‡πà‡πÅ‡∏ú‡∏á‡∏¢‡∏≤ | See expiry on blister pack |

### ‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏â‡∏•‡∏≤‡∏Å

- ‡∏Ñ‡∏ô‡πÑ‡∏Ç‡πâ‡πÑ‡∏ó‡∏¢ (`nationality = 'thai'`): ‡πÅ‡∏™‡∏î‡∏á `expiry_note_th`
- ‡∏Ñ‡∏ô‡πÑ‡∏Ç‡πâ‡∏ï‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥ (`nationality = 'other'`): ‡πÅ‡∏™‡∏î‡∏á `expiry_note_en`

---

# üÖ±Ô∏è Sprint 3B ‚Äî Workflow Revolution

> **‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:** ‡∏•‡∏î‡∏†‡∏≤‡∏£‡∏∞ Owner ‡∏î‡πâ‡∏ß‡∏¢ Reserved Stock + Auto Calculator + EOD

## 6Ô∏è‚É£ Reserved Stock Model

| ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ |
|-------|----------|
| **Available** | ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ |
| **Reserved üü†** | ‡∏à‡∏±‡∏î‡∏¢‡∏≤‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô |
| **Consumed** | ‡∏ï‡∏±‡∏î‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏à‡∏£‡∏¥‡∏á |
| **Released** | ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á |

### ‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤
- Reserved ‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏Å‡∏î "‡∏à‡∏±‡∏î‡∏¢‡∏≤‡πÅ‡∏•‡πâ‡∏ß"
- ‡∏´‡∏°‡∏≠‡πÄ‡∏´‡πá‡∏ô "‡∏™‡∏±‡πà‡∏á‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á" = Available ‚àí Reserved
- **‡πÑ‡∏°‡πà‡∏°‡∏µ Reserved ‡∏Ñ‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≤‡∏°‡∏ß‡∏±‡∏ô** (‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô End of Day ‚Äì EOD)

---

## 7Ô∏è‚É£ ‡πÉ‡∏ö‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (Patient Statement)

- ‡∏≠‡∏≠‡∏Å‡πÇ‡∏î‡∏¢‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏´‡∏•‡∏±‡∏á "‡∏à‡∏±‡∏î‡∏¢‡∏≤‡πÅ‡∏•‡πâ‡∏ß"
- **‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à** ‚Äî ‡πÉ‡∏ä‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô
- Staff ‡πÉ‡∏ä‡πâ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£

---

## 8Ô∏è‚É£ Auto Calculator

‡πÄ‡∏°‡∏∑‡πà‡∏≠ staff ‡∏ï‡∏¥‡πä‡∏Å‡∏≠‡∏≠‡∏Å‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏ô‡πÑ‡∏Ç‡πâ‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö:
- ‚úÖ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
- ‚úÖ Release reserved ‡∏Ç‡∏≠‡∏á‡∏¢‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

---

## 9Ô∏è‚É£ Payment Status (3 ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞)

| ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ |
|-------|----------|
| **Pending Payment** | ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô |
| **Confirmed** | ‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß |
| **Locked** | ‡∏õ‡∏¥‡∏î‡∏ß‡∏±‡∏ô (EOD) |

---

## üîü End of Day (EOD)

‡∏õ‡∏¥‡∏î‡∏ó‡∏∏‡∏Å‡πÄ‡∏Ñ‡∏™‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô:
- ‡πÄ‡∏Ñ‡∏™‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô ‚Üí Reserved ‚Üí Consumed
- ‡πÄ‡∏Ñ‡∏™‡πÑ‡∏°‡πà‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô ‚Üí Reserved ‚Üí Released
- **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:** ‡πÑ‡∏°‡πà‡∏°‡∏µ Reserved ‡∏Ñ‡πâ‡∏≤‡∏á, ‡∏™‡∏ï‡πä‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏´‡∏•‡∏≠‡∏Å

---

## üîÅ Final Workflow (Sprint 3B)

```
‡πÅ‡∏û‡∏ó‡∏¢‡πå
‚îú‚îÄ ‡∏ï‡∏£‡∏ß‡∏à + ‡∏™‡∏±‡πà‡∏á‡∏¢‡∏≤
‚îú‚îÄ ‡∏à‡∏±‡∏î‡∏¢‡∏≤ + ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏â‡∏•‡∏≤‡∏Å ‚Üí Stock: Reserved
‚îú‚îÄ ‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (Pending Payment)
‚îî‚îÄ ‡∏™‡πà‡∏á‡∏¢‡∏≤ ‚Üí staff
        ‚îÇ
        ‚îú‚îÄ ‡∏Ñ‡∏ô‡πÑ‡∏Ç‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏ö ‚Üí Confirm ‚Üí Reserved ‚Üí Consumed
        ‚îú‚îÄ ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏ö‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚Üí Auto Calc ‚Üí Released
        ‚îî‚îÄ ‡πÑ‡∏°‡πà confirm ‚Üí EOD ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
```

---

## üìÖ Timeline

| ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå | ‡∏á‡∏≤‡∏ô | Dependencies |
|---------|-----|--------------|
| 1 | **Sprint 3A** (TN, Patient, Label) | - |
| 2-3 | **Sprint 3B** (Reserved, EOD, AutoCalc) | 3A Done |

---

## ‚úÖ ‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô

| ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° | ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö Owner |
|-------|-------------|
| ‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô 3A + 3B | ‚¨ú ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô |
| ‡πÄ‡∏£‡∏¥‡πà‡∏° Sprint 3A ‡∏Å‡πà‡∏≠‡∏ô | ‚¨ú ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô |
| Sprint 3B ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á | ‚¨ú ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô |

**‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÇ‡∏î‡∏¢:** ____________________  
**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** ____________________

---

*Document Version: 4.0 (Option B)*  
*Updated: 20 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2569*
